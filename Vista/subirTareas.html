<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link rel="icon"
        href="https://sistemaseducaciononline.uta.edu.ec/pluginfile.php/1/theme_adaptable/favicon/1702489518/sistemas.png" />
    <link rel="stylesheet" href="asignar_Tareas.css" />
</head>

<body>
    <div id="barra_superior">
        <button id="notifications">
            <img src="https://img.icons8.com/?size=512&id=37084&format=png" alt="" width="20" height="20" />
        </button>

        <button id="perfil">
            <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png" alt=""
                width="20" height="20" />
        </button>
    </div>
    <div id="barra_superior2">
        <img src="https://sistemaseducaciononline.uta.edu.ec/pluginfile.php/1/theme_adaptable/logo/1702489518/sistemas.png"
            alt="" width="250" height="90" />

    </div>
    <div id="cinta_opciones">
        <button id="btn_dashboard" onclick="redirectToAsignarTareas()">
            <img src="https://png2.cleanpng.com/sh/7592ac9d8ea8687a45b81b6a66dc7f3b/L0KzQYm3VMEzN6l1j5H0aYP2gLBuTgBieJZ3RdD4dHXlf7FyTf1ifJZ3gdN1LXzsfra0lP9zdl51eeJucj24cbTtgcJlO2k9S6UCMT64SYm5V8U5OmI6SqUANUezR4a8Vcc6NqFzf3==/kisspng-paper-notebook-material-line-torn-paper-5acfa2d3883371.5982758215235570755579.png"
                alt="" width="20" height="15" />
            Tareas</button>
        <button id="btn_mis_asignaturas" onclick="traerAsignaturas()">
            <img src="https://png2.cleanpng.com/sh/f3a7c2b604f247efc183b59de8736758/L0KzQoG3UcI4N5ZBh5H9cnHxg8HokvVvfF5nedV0cHHme37wgB9vNaRogNH4bD3sc7F1TcVmOpc9fNZtOXW8QYqATsk4PGEASaoBMUW7QIKAVMgyO2c5Uac3cH7q/transparent-backpack-icon-school-icon-5e2f8ddd9e9197.9740918615801748136495.png"
                alt="" width="20" height="17" />
            Mis Asignaturas</button>
        <button id="btn_registroCurso" onclick="redirectToRegistroCurso()">
            <img src="https://png2.cleanpng.com/sh/f3a7c2b604f247efc183b59de8736758/L0KzQoG3UcI4N5ZBh5H9cnHxg8HokvVvfF5nedV0cHHme37wgB9vNaRogNH4bD3sc7F1TcVmOpc9fNZtOXW8QYqATsk4PGEASaoBMUW7QIKAVMgyO2c5Uac3cH7q/transparent-backpack-icon-school-icon-5e2f8ddd9e9197.9740918615801748136495.png"
                alt="" width="20" height="17" />
            Registrar Curso</button>
        <button id="btn_registroAsignatura" onclick="redirectToRegistroAsignatura()">
            <img src="https://png2.cleanpng.com/sh/f3a7c2b604f247efc183b59de8736758/L0KzQoG3UcI4N5ZBh5H9cnHxg8HokvVvfF5nedV0cHHme37wgB9vNaRogNH4bD3sc7F1TcVmOpc9fNZtOXW8QYqATsk4PGEASaoBMUW7QIKAVMgyO2c5Uac3cH7q/transparent-backpack-icon-school-icon-5e2f8ddd9e9197.9740918615801748136495.png"
                alt="" width="20" height="17" />
            Registrar Asignatura</button>
        <button id="btn_MatricularEstudiantes" onclick="redirectToMatricularEstudiante()">
            <img src="https://png2.cleanpng.com/sh/f3a7c2b604f247efc183b59de8736758/L0KzQoG3UcI4N5ZBh5H9cnHxg8HokvVvfF5nedV0cHHme37wgB9vNaRogNH4bD3sc7F1TcVmOpc9fNZtOXW8QYqATsk4PGEASaoBMUW7QIKAVMgyO2c5Uac3cH7q/transparent-backpack-icon-school-icon-5e2f8ddd9e9197.9740918615801748136495.png"
                alt="" width="20" height="17" />
            Matricular Estudiante</button>
    </div>
    </div>
    <div id="contenedorFormulario">
        <form id="registroForm" class="formulario_Registro" action="../Clases/subirTarea.php" method="POST"
            enctype="multipart/form-data">
            <input type="hidden" id="correoUsuario" name="correoUsuario" value="">
            <label for="nombre">Nombre de la tarea:</label>
            <input type="text" id="nombreTarea" name="nombreTarea" readonly value="">
            <label for="descripcion">Descripcion de la tarea:</label>
            <input type="text" id="descripcionLabel" name="descripcionLabel" readonly value="">
            <input type="hidden" id="codigoAsignatura" name="codigoAsignatura" value="">
            <label for="fileInput">Selecciona un archivo:</label>
            <input type="file" name="archivo" class='form__file' required>
            <button type="button" id="enviarTareaButton">Enviar Tarea</button>

        </form>
    </div>

    <script>
        var correoUsuario = localStorage.getItem("correousuario");
         var codigoAsignatura = localStorage.getItem("codigoAsignatura");
         var nombreTarea = localStorage.getItem('nombreTarea');
         var descripcionTarea = localStorage.getItem('descripcionTarea');
         document.getElementById('correoUsuario').value = correoUsuario;
         document.getElementById('codigoAsignatura').value = codigoAsignatura;
         document.getElementById('nombreTarea').value = nombreTarea;
         document.getElementById('descripcionLabel').value = descripcionTarea;
         console.log('Nombre de la tarea:', nombreTarea);
         console.log('Descripción de la tarea:', descripcionTarea);
         console.log('Codigo Asignatura:', codigoAsignatura);
         console.log('Correo Usuario:', correoUsuario);
        document.addEventListener('DOMContentLoaded', function () {
            // Obtén referencias a los elementos del formulario
            const formulario = document.getElementById('registroForm');
            const botonEnviar = document.getElementById('enviarTareaButton');

            // Agrega un evento al botón para manejar el envío del formulario
            botonEnviar.addEventListener('click', function () {
                // Crea un objeto FormData para recopilar los datos del formulario
                const formData = new FormData(formulario);

                // Realiza la solicitud utilizando fetch
                fetch('../Clases/subirTarea.php', {
                    method: 'POST',
                    body: formData
                })
                    .then(response => response.json())  // Puedes ajustar esto según el formato de respuesta esperado
                    .then(data => {
                        // Maneja la respuesta del servidor
                        console.log(data);
                        // Puedes realizar acciones adicionales según la respuesta, por ejemplo, mostrar mensajes al usuario
                    })
                    .catch(error => {
                        console.error('Error al enviar la solicitud:', error);
                        // Puedes manejar el error, por ejemplo, mostrar un mensaje de error al usuario
                    });
            });
        });
        function redirectToAdministrarAsignatura() {
            window.location.href = 'administrarAsignatura.html';
        }
        function redirectToAsignarTareas() {
            window.location.href = 'asignarTareas.html';
        }
        function redirectToRegistroAsignatura() {
            window.location.href = 'registro_Asignaturas.html';
        }
        function redirectToMatricularEstudiante() {
            window.location.href = 'matricularEstudiante.html';
        }

        function redirectToRegistroCurso() {
            window.location.href = 'registro_Cursos.html';
        }

        function traerAsignaturas() {
            window.location.href = 'mostrarAsignatura.html';
        }

    </script>
</body>

</html>